angular.module("angular-highlight",[]).directive("highlight",function(){return{link:function(h,i,e){e.highlightClass||(e.highlightClass="angular-highlight");var g=function(h,i){return'<a href="/?q='+h+'" class="'+e.highlightClass+'">'+h+"</a>"},l=function(h){var i,e=(h=h.replace(new RegExp(",$","g"),"").split(",")).length;for(i=0;i<e;i++)h[i]=h[i].replace(new RegExp("^ | $","g"),"");return h};h.$watch("keywords",function(){if(!h.keywords||""==h.keywords)return i.html(h.highlight),!1;var e=l(h.keywords),r=new RegExp(e.join("|"),"gmi"),t=h.highlight.replace(r,g);i.html(t)})},replace:!1,scope:{highlight:"=",keywords:"="}}});